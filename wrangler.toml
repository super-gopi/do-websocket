name = "sa-websocket"
main = "src/index.ts"
compatibility_date = "2024-09-02"
compatibility_flags = ["nodejs_compat"]


# Define the Broadcaster Durable Object
[[durable_objects.bindings]]
name = "BROADCASTER"
class_name = "Broadcaster"

[[migrations]]
tag = "v1"
new_sqlite_classes = ["Broadcaster"]

[observability.logs]
enabled = true

# Environment variables (set via wrangler secret or dashboard)
# These should be set as secrets, not in this file:
#   wrangler secret put DATABASE_URL
#   wrangler secret put SUPERATOM_SERVICE_KEY
#
# DATABASE_URL: Your Neon PostgreSQL connection string
# SUPERATOM_SERVICE_KEY: Master key for API key management endpoints

# Optional: Non-sensitive environment variables
# [vars]
# ENVIRONMENT = "production"

# Optional: KV namespaces (if you need them later)
# [[kv_namespaces]]
# binding = "MY_KV"
# id = "your-kv-namespace-id"

# Optional: R2 buckets (if you need them later)
# [[r2_buckets]]
# binding = "MY_BUCKET"
# bucket_name = "your-bucket-name"